本题考察了位运算的相关知识。

### 30pts

考虑 DP，$f[l][r][x]$ 表示利用 $[l,r]$ 内的数能否得到结果 $x$，预处理出结果后即可 $O(1)$ 回答。

### +30pts

$O(2^{r-l+1})$ 枚举每个数选择与否并进行去重。

### 100pts

题目要求用$[l,r]$ 内的数可以按位或出多少不同的值。

发现对于给定的 $l,r$ 其中它们二进制表示中相通的前缀是没用的，可以直接删掉。

假定 现在 $r$ 有 $lim$ 位。

那么我们可以通过 $2^{lim}$ 和 $[l,2^{lim})$ 构造出 $[l+2^{lim},2^{lim}+1)$ 内的所有整数。

之后找到 $r$ 次高位的 $1$ ，假设在第 $k$ 位，这样可以通过 $[2^{lim},2^{lim}+2^k)$ 和 $2^{lim}+2^k$ 构造 $[2^{lim},2^{lim}+2^k+1)$ 的所有数。

最后还有区间 $[l,r]$

然后将以上区间取并，区间内的整数个数即为答案。
