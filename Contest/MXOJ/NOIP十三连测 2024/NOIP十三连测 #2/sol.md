### T1

手动模拟一下过程可以发现：

$a_{i-2},a_{i},a_{i+2}$ 总是相邻的，且 $a_1,a_2$ 是相邻的，$a_n$ 在最左端。

* 若 $n$ 为奇数，答案为 $a_na_{n-2}...a_1+a_2a_4...a_{n-1}$。​
* 若 $n$ 为偶数，答案为$a_na_{n-2}...a_2+a_1a_3...a_{n-1}$​。

时间复杂度 $O(n)$。

### T2

如果一条边不在图中一棵最小生成树中，那么加入一条新边之后的新图中也可以不用考虑这条边了。(考虑kruskal将边排序的过程)

对原图使用 prim 求出最小生成树的 $n-1$ 条边，与新加入的 $q$ 条边排序后，做 $q$​ 次 kruskal 即可。

时间复杂度 $O(n^2+nq\log n)$。($\log n$ 为并查集)

### T3

若 $a_i<a_j,b_i>b_j$，

$$[(a_i-b_i)^2+(a_j-b_j)^2]-[(a_i-b_j)^2+(a_j-b_i)^2]=2(b_j-b_i)(a_i-a_j)>0$$

那么交换 $a_i,a_j$ 使总距离减小，设 $a'$ 为最优序列。

则对于 $i=1...n$，若 $b_i$ 为 $b$ 中第 $k$ 大数，那么 $a'_i$ 也为 $a'$ 中第 $k$ 大数。

设 $a$ 中位置 $i$ 上的数的最终的位置为 $p_i$，交换操作相当于交换 $p_i,p_j$。最后需要让 $p_i=i$ 。

$i\rightarrow p_i$ 连边，会形成若干个环，每次交换会让环数加一或者减一，最小交换次数即为 $n-环数$ 。

### T4

枚举方阵的大小为 $k$，每行给定一个权值 $x_i$，每列给定一个权值 $y_i$，那么 $a_{i,j}=x_i+y_j$​ 是一个合法的方阵。

一个合法的方阵也一定可以由一组 ${x_i},{y_i}$ 表示。($x_i=a_{i,1}, y_j=a_{1,j}-a_{1,1}$)

但是$x'_i=x_i+1,y'_i=y_i-1$与 $x_i,y_i$ 对应的方阵相同。

令 $min(x_i)=0$ 则方阵与数列之间一一对应。

此时 $a_{i,j}\ge m$等价于 $min(y_i)\ge m$。

将 $y_i$ 减去 $m$，问题变为将至多 $n-k*m$个石头放入$2k$个格子里，且前$k$个格子至少有一个没有石子的方案数。

容斥求得答案为$\binom{n-k*m+2*k}{2*k}-\binom{n-k*m+k}{2*k}$

最后对所有可能的$k$ 求和。

